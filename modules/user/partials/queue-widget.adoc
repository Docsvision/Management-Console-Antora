[#queue-widget]
== Виджет сообщений

Данный виджет отображает статистику по обработке {msg} сообщений. {caps} сообщения отфильтрованы по дате создания и распределены по сервисам обработки. Данные представлены в виде таблицы, на которую можно нажать, чтобы посмотреть подробнее.

Пользовательский интерфейс виджета представлен на следующем рисунке.

.Текстовый виджет "Очередь {msg} сообщений"
image::{img}-text-dash.png[Текстовый виджет "Очередь {msg} сообщений"]

include::partial$excerpts.adoc[tags=contains]
. Список для выбора периода сообщений.
+
[#period]
Чтобы изменить отображаемый период статистики, выберите соответствующий фильтр. Для выбора доступны периоды: *_Сегодня_*, *_Вчера_*, *_Текущая неделя_*, *_Текущий месяц_*.
+
Также может быть задан произвольный период статистики при помощи кнопки с иконкой календаря -- image:buttons/calendar.png[Календарь]. Работа с календарём выполняется аналогично календарю в {wc}е xref:dev@webclient:user:appendix/date-time.adoc[здесь] и xref:webclient:user:grid-filter.adoc#date[здесь].
+
ifeval::["{img}" == "out"]
. Таблица со статистикой обработки сообщений. В первом столбце указывается _Сервис обработки_, во втором -- _Количество сообщений_.
endif::[]
ifeval::["{img}" == "in"]
. Таблица со статистикой обработки сообщений.
+
* _Сервис обработки_ -- название службы {ws}, обработавшей сообщение.
* _Не обработано_ -- общее количество необработанных сообщений.
* _Пауза_ -- общее количество необработанных сообщений в состоянии _Пауза_.
* _Ошибка_ -- общее количество обработанных сообщений в состоянии _Ошибка_.
* _Блокировка_ -- общее количество заблокированных сообщений.
+
В данной колонке указывается именно количество сообщений имеющих блокировку, а не количество блокировок.
+
endif::[]
****
Каждая ячейка виджета является ссылкой. Нажатие на ячейку с именем сервиса обработки откроет страницу с применённым фильтром по выбранному сервису.

ifeval::["{img}" == "in"]
Нажатие на заголовок столбца откроет страницу входящих сообщений с установленным фильтром по статусу для всех сервисов.

Нажатие на ячейку с цифрой откроет страницу с установленным фильтром по сервису обработки и статусу сообщения.
endif::[]

Ячейки с цифрой `0` не являются ссылками и не открывают страницу сообщений с применённым фильром.
****

Все заданные настройки виджета сохранятся при обновлении страницы и при переходе на другую страницу.

Виджет выводит все {type} сообщения, созданные в указанный период (*_Сегодня_*, *_Вчера_*, *_Текущая неделя_*, *_Текущий месяц_*).

.В таблице будут отображаться следующие сообщения:
* `Соединение и период не установлены`, если не задано подключение и период.
* `{caps} сообщения не найдены`, если сообщения не найдены.

Полная информация по очереди {msg} сообщений доступна на информационной странице _Очередь {msg} сообщений_.