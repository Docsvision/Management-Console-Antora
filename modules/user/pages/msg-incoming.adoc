= Очередь входящих сообщений

:msg: входящих
:caps: Входящие
:type: входящие
:img: in
include::partial$queue-widget.adoc[]

Администратор может использовать данный виджет, чтобы проанализировать текущую ситуацию в системе {dv}. Если появляются сообщения с ошибками или блокировками, администратор должен перейти на страницу _Очередь входящих сообщений_ и оттуда на страницу xref:block-error-log.adoc["Ошибки и блокировки"].

.Пример использования виджета:
****
Например, в виджете отображается большое количество необработанных сообщений и блокировок. Это может говорить о том, что машина, обрабатывающая данные сообщения, вышла из строя или перегружена.
****

Разделение по сервисам позволяет сузить область поиска проблемы.

[#queue-page]
== Страница сообщений

Страница _Очередь входящих сообщений_ содержит информацию по всем входящим сообщениям. На странице отображаются только сообщения соединения, выбранного в виджете. Попасть на страницу можно только из виджета _Очередь входящих сообщений_.

.Страница "Очередь входящих сообщений"
image::in-text-page.png[Страница "Очередь входящих сообщений"]

По нажатию на строку сообщения, содержащую ошибки и/или блокировки, отрывается страница _Ошибки и блокировки_.

.Страница представляет собой таблицу со следующими колонками:
include::partial$parameters.adoc[tags=cr-date]
+
include::partial$parameters.adoc[tags=digest]
+
* Состояние -- состояние обработки сообщения:
+
** _Обработано_ -- сообщение было обработано.
** _Не обработано_ -- сообщение ещё не обрабатывалось.
** _Ошибка_ -- обработка сообщения завершилась с ошибкой.
** _Блокировано_ -- при обработке сообщения возникла ошибка, но обработка не завершена. Указывается именно количество сообщений имеющих блокировку, а не количество блокировок.
+
Сообщение может содержать ошибку в любом состоянии, но если сообщение блокировано ошибкой, состояние будет: _Блокировано, ошибка_.
+
Если сообщение было обработано с ошибкой или блокировано, нажмите на сообщение строку сообщения, чтобы перейти на страницу xref:block-error-log.adoc["Журнала ошибок и блокировок"].
+
include::partial$parameters.adoc[tags=service]
+
include::partial$parameters.adoc[tags=msg-type]
+
include::partial$parameters.adoc[tags=info]

[#graph]
== Графическая реализация

Данный виджет предназначен для отображения статистики по обработке входящих сообщений в виде гистограммы. Данные группируются по сервисам обработки.

Пользовательский интерфейс виджета представлен на следующем рисунке.

image::widgetsOfWSInputMessagesAsGraph.png[Виджет Очередь входящих сообщений (графический)]

Виджет содержит следующие элементы:

* заголовок с названием виджета, датой последнего обновления отображаемой информации и кнопкой обновления;

&gt; Данные автоматически обновляются с периодом 30 секунд.

* поле для выбора подключения к {dv}, из которого будут загружаться данные;

* легенду;

* гистограмму, на которой для сервисом обработки представлено количественное соотношение сообщений с разными состояниями обработки: Не обработано, Блокировка и С ошибками. При щелчке по столбцу будет выполнен переход к странице xref:msg-search.adoc[Поиск сообщений карточки]. ==В требовании на страницу нет фильтров (отменены)==



